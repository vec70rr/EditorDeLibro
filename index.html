<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Editor de Libro Educativo</title>
  <link rel="stylesheet" href="editor_libro.css">
  <!-- MathJax para fórmulas -->
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <!-- JS principal - lo agregaremos después -->
  <script src="editor_libro.js" defer></script>
</head>
<body>
  <header>
    <h1>Generador de Libro</h1>
    <div class="sep"></div>
    <button id="btnPartes">Libro (partes)</button>
    <button id="btnDeshacer">Deshacer</button>
    <button id="btnDescargar">Descargar HTML</button>
  </header>

  <div class="layout">
    <aside class="toc">
      <h2>Índice</h2>
      <div class="toolbar">
        <button>Portada</button>
        <button>Prefacio</button>
        <button>Capítulo</button>
        <button>Sección</button>
        <button>Subsección</button>
      </div>
      <ul id="tocList">
        <!-- Elementos del índice se agregan dinámicamente via JS -->
      </ul>
    </aside>

    <main class="main">
      <div class="info">
        Consejo: haz clic en un elemento del índice para <strong>editarlo</strong>. Usa el botón “Libro (partes)” si quieres ver qué puedes agregar.
        <span class="badge">MathJax listo</span>
        <span class="badge">Simuladores incluidos</span>
      </div>

      <div class="output with-watermark" id="vistaPrevia">
        <!-- Vista previa del libro se renderiza aquí -->
      </div>

      <div class="codigo">
        <h3>HTML generado (solo lectura)</h3>
        <textarea id="htmlGenerado" readonly></textarea>
      </div>
    </main>
  </div>

  <!-- Modal de edición -->
  <div class="modal-bg" id="modalBg">
    <div class="modal">
      <h2>Editar</h2>
      <div class="row">
        <label>Título:</label>
        <input type="text" id="inpTitulo">
      </div>
      <div class="row">
        <label>Contenido</label>
        <div class="toolbar-line">
          <button>Símbolos ▼</button>
          <button>Ecuaciones/Estructuras ▼</button>
          <button>Simuladores ▼</button>
          <button>Imagen (JPG)</button>
        </div>
        <textarea id="inpContenido"></textarea>
      </div>
      <p class="tip">Tip: para Portada puedes escribir título, autor, fecha. Para Prefacio un texto introductorio. En capítulos y secciones puedes mezclar texto, fórmulas y simuladores.</p>
      <div class="buttons">
        <button id="btnCancelar">Cancelar</button>
        <button id="btnGuardar">Guardar</button>
      </div>
    </div>
  </div>
</body>
</html>